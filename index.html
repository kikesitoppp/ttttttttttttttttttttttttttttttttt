<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Te Amo</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: pink;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="lienzo"></canvas>
  <script>
    const canvas = document.getElementById("lienzo");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    // Conejos (solo emojis a los lados)
    const conejoIzq = "üê∞";
    const conejoDer = "üê∞";

    // Dibujar conejos
    function dibujarConejos() {
      ctx.font = "80px Arial";
      ctx.fillText(conejoIzq, 50, canvas.height / 2);
      ctx.fillText(conejoDer, canvas.width - 100, canvas.height / 2);
    }

    // Funci√≥n para dibujar un coraz√≥n peque√±o
    function dibujarCorazon(x, y, size = 10, color = "red") {
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.moveTo(x, y);
      ctx.bezierCurveTo(x, y - size / 2, x - size, y - size / 2, x - size, y);
      ctx.bezierCurveTo(x - size, y + size / 2, x, y + size, x, y + size * 1.5);
      ctx.bezierCurveTo(x, y + size, x + size, y + size / 2, x + size, y);
      ctx.bezierCurveTo(x + size, y - size / 2, x, y - size / 2, x, y);
      ctx.fill();
    }

    // Generar puntos que formar√°n el coraz√≥n grande y "TE AMO"
    const puntosDestino = [];

    function generarFigura() {
      const tempCanvas = document.createElement("canvas");
      const tempCtx = tempCanvas.getContext("2d");
      tempCanvas.width = canvas.width;
      tempCanvas.height = canvas.height;

      // Dibujar coraz√≥n grande y texto
      tempCtx.fillStyle = "black";
      tempCtx.font = "bold 200px Arial";
      tempCtx.fillText("‚ô•", canvas.width / 2 - 100, canvas.height / 2 - 50);
      tempCtx.font = "bold 120px Arial";
      tempCtx.fillText("TE AMO", canvas.width / 2 - 250, canvas.height / 2 + 200);

      const imageData = tempCtx.getImageData(0, 0, tempCanvas.width, tempCanvas.height).data;

      for (let y = 0; y < tempCanvas.height; y += 15) {
        for (let x = 0; x < tempCanvas.width; x += 15) {
          const index = (y * tempCanvas.width + x) * 4;
          if (imageData[index] > 0) {
            puntosDestino.push({ x, y });
          }
        }
      }
    }

    generarFigura();

    // Crear corazones disparados desde los conejos
    const corazones = puntosDestino.map((p) => {
      const desdeIzq = Math.random() < 0.5;
      return {
        x: desdeIzq ? 100 : canvas.width - 100,
        y: canvas.height / 2,
        destino: p,
        size: 8,
        velocidad: 0.05 + Math.random() * 0.02,
      };
    });

    // Animaci√≥n
    function animar() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      dibujarConejos();

      corazones.forEach((c) => {
        c.x += (c.destino.x - c.x) * c.velocidad;
        c.y += (c.destino.y - c.y) * c.velocidad;
        dibujarCorazon(c.x, c.y, c.size);
      });

      requestAnimationFrame(animar);
    }

    animar();
  </script>
</body>
</html>
